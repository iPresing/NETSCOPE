<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NETSCOPE - Terminal de surveillance r√©seau pour Raspberry Pi">
    <meta name="theme-color" content="#030508">
    <meta name="color-scheme" content="dark">
    <title>{% block title %}NETSCOPE{% endblock %}</title>

    {# Preconnect to Google Fonts for faster loading #}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    {# Main Stylesheet #}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    {# Inline critical styles for faster first paint #}
    <style>
        /* Prevent FOUC (Flash of Unstyled Content) */
        html { background-color: #030508; }
        body { opacity: 0; transition: opacity 0.3s ease; }
        body.loaded { opacity: 1; }
    </style>

    {% block head %}{% endblock %}
</head>
<body>
    <header class="site-header">
        <div class="header-top">
            <div class="nav-brand">
                <span class="brand-icon">üõ°Ô∏è</span>
                <h1>NETSCOPE</h1>
            </div>
            <div class="nav-network-status">
                {% if netscope_ip %}
                <span class="network-indicator connected" title="{{ netscope_connection_mode }}">
                    <span class="status-dot"></span>
                    <span class="network-ip">{{ netscope_ip }}</span>
                    <span class="network-mode">({{ netscope_connection_mode }})</span>
                </span>
                {% else %}
                <span class="network-indicator disconnected" title="Aucune connexion">
                    <span class="status-dot"></span>
                    <span class="network-ip">Non connect√©</span>
                </span>
                {% endif %}
            </div>
        </div>
        {% include 'components/_nav.html' %}
    </header>

    <main>
        {% block content %}
        <p>Network Traffic Analyzer</p>
        {% endblock %}
    </main>

    <footer class="site-footer">
        {% block footer %}
        {% include 'components/_footer.html' %}
        {% endblock %}
    </footer>

    {% include 'components/_toast.html' %}

    <script src="{{ url_for('static', filename='js/api.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/toasts.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/main.js') }}" defer></script>
    {% block scripts %}{% endblock %}

    {# Page load animation trigger #}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.body.classList.add('loaded');
        });
    </script>
</body>
</html>
