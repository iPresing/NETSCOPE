{# Health Score Widget Component - Story 3.2
   Simple score display with progress bar (Story 3.1 style).

   Parameters:
     health_score: dict - HealthScoreResult.to_dict() data (optional)
#}

{% set score = health_score.displayed_score if health_score else none %}
{% set status = health_score.status_color if health_score else 'normal' %}
{% set has_data = health_score is not none and score is not none %}

<div class="score-display-widget {{ '' if has_data else 'score-display-widget--empty' }}"
     id="health-score-widget"
     data-score="{{ score if score is not none else '' }}"
     data-status="{{ status }}">

    <div class="score-display">
        <span class="score-value score-value--{{ status }}">{{ score if has_data else '--' }}</span>
        <span class="score-max">/100</span>
    </div>

    <div class="progress-bar">
        <div class="progress-fill progress-fill--{{ status }}" style="width: {{ score if has_data else 0 }}%;"></div>
    </div>

    <p class="score-status score-status--{{ status }}">
        {% if has_data %}
            {% if status == 'normal' %}R&eacute;seau Sain{% elif status == 'warning' %}Attention{% else %}Critique{% endif %}
        {% else %}
            --%
        {% endif %}
    </p>

    <button class="btn btn-sm" id="btn-health-score-details" {% if not has_data %}style="display: none;"{% endif %}>
        D&eacute;tails
    </button>
</div>
